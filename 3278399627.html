<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2016 v1" /><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /><meta name="msapplication-config" content="none" /><link rel="icon" type="image/x-icon" href="../assets/ico/bruker.ico" /><link rel="stylesheet" href="../assets/css/base/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base/02-jquery-tree.css" /><link rel="stylesheet" href="../assets/css/base/03-bootstrap-schema.css" /><link rel="stylesheet" href="../assets/css/base/04-jquery.mcustomscrollbar.min.css" /><link rel="stylesheet" href="../assets/css/base/05-jquery.mmenu.oncanvas.css" /><link rel="stylesheet" href="../assets/css/base/06-jquery.mmenu.schema.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><title>ft, ftf</title></head><body id="3278399627" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="3278399627" class="" data-culture="en-US"><div class="off-canvas"><div id="off-canvas-menu" role="complementary"></div><div id="pushobj"><div class="scroll-container content-container" id="content-container"><div class="container" role="main"><ol class="breadcrumb hidden-xs"><li><a style="color:#3195CA;" href="index.html"></a></li><li><a style="color:#3195CA;" href="3278283019.html">1D Processing Commands</a></li><li>ft, ftf</li></ol><h1 class="heading" style="color:black;">ft, ftf</h1><div class="metalist"></div><h2 class="subheading">NAME</h2><p>ft - <span class=".index-entry" id="ID0ETVGO"></span>Fourier transform (1D) <span class=".index-entry" id="ID0EXVGO"></span></p><p>ftf - Open the Fourier transform dialog box (1D, 2D) <span class=".index-entry" id="ID0E3VGO"></span></p><h2 class="subheading">DESCRIPTION</h2><p>The command <strong>ft</strong> Fourier transforms a 1D dataset or a row of a dataset with dimension ≥ 2. It can be started from the command line or from the Fourier transform dialog box. The latter is opened with the command <strong>ftf</strong> </p><p> </p><figure class="img_80"><img src="../Images/png/2245374091__en-US__Web.png" width="538" height="457" /></figure><p> </p><p>This dialog box offers two options both of which select the <strong>ft</strong> command for execution.</p><h2 class="subheading">Standard Fourier Transform</h2><p>This option only allows to set the parameter SI, the size of the real spectrum. </p><h2 class="subheading">Advanced Fourier Transform</h2><p>This option allows to set all FT related parameters. </p><p>Fourier transform is the main step in processing NMR data. The <span class=".index-entry" id="ID0EDXGO"></span>time domain data (FID) which are created by acquisition are transformed into <span class=".index-entry" id="ID0EGXGO"></span>frequency domain data (spectrum). Usually, Fourier transform is preceded by other processing steps like FID <span class=".index-entry" id="ID0EJXGO"></span>baseline correction (<strong><span class=".index-entry" id="ID0EOXGO"></span>bc</strong>) and <span class=".index-entry" id="ID0ESXGO"></span>window multiplication (<strong><span class=".index-entry" id="ID0EXXGO"></span>em</strong>, <strong><span class=".index-entry" id="ID0E3XGO"></span>gm</strong>, etc.) and followed by steps like <span class=".index-entry" id="ID0EAYGO"></span>phase correction (<strong><span class=".index-entry" id="ID0EFYGO"></span>apk</strong>) and spectrum <span class=".index-entry" id="ID0EJYGO"></span>baseline correction (<strong><span class=".index-entry" id="ID0EOYGO"></span>abs</strong>).</p><p>The size of the resulting spectrum is determined by the parameter SI. An FID of TD time domain points is transformed to a spectrum of SI real and SI <span class=".index-entry" id="ID0EVYGO"></span>imaginary data points. A typical value for SI is TD/2. In that case, all points of the FID are used by the Fourier transform and no <span class=".index-entry" id="ID0EZYGO"></span>zero filling is done. </p><p>The size of the spectrum and the number of FID points which are used can be determined in the following ways: </p><ul class="list"><li value="1">SI &gt; TD/2: the FID is zero filled</li><li value="2">SI &lt; TD/2: only the first 2*SI points of the FID are used</li><li value="3">0 &lt; TDeff &lt; TD: only the first TDeff points of the FID are used</li></ul><p>In the latter two cases, the spectrum will contain less information then the FID. Note that the parameter TDoff only plays a role for linear prediction and in 2D and 3D <span class=".index-entry" id="ID0ENZGO"></span>Fourier transform.</p><p>You can also perform a so-called <span class=".index-entry" id="ID0EUZGO"></span>strip transform which means that only a certain region of the spectrum is stored. This can be done by setting the parameters STSR and STSI which represent the <span class=".index-entry" id="ID0EYZGO"></span>strip start and <span class=".index-entry" id="ID0E3ZGO"></span>strip size, respectively. They can take values between 0 and SI. The processing status parameters STSI and SI are both set to this value. You can check this by entering <strong>dpp</strong> or clicking the Procpars tab.</p><p>The Fourier transform mode depends on the <span class=".index-entry" id="ID0EF1GO"></span>acquisition mode; <em><span class=".index-entry" id="ID0EK1GO"></span>single</em>, <em><span class=".index-entry" id="ID0EP1GO"></span>sequential</em> or <em><span class=".index-entry" id="ID0EV1GO"></span>simultaneous</em>. For this purpose, <strong>ft</strong> evaluates the acquisition status parameter AQ_mod as shown in the table below: </p><table class="table tabletype-framed table-scaled"><colgroup><col style="width: 2.47cm;"></col><col style="width: 2.47cm;"></col><col style="width: 5.47cm;"></col></colgroup><tbody><tr><td><p class="text-left">AQ_mod</p>
</td><td><p class="text-left">FT_mod</p>
</td><td><p class="text-left"><span class=".index-entry" id="ID0ER2GO"></span>Fourier transform mode</p>
</td></tr><tr><td><p class="text-left">qf</p>
</td><td><p class="text-left">fsr</p>
</td><td><p class="text-left">forward, single channel, real</p>
</td></tr><tr><td><p class="text-left">qsim</p>
</td><td><p class="text-left">fqc</p>
</td><td><p class="text-left">forward, quadrature, complex</p>
</td></tr><tr><td><p class="text-left">qseq</p>
</td><td><p class="text-left">fqr</p>
</td><td><p class="text-left">forward, quadrature, real</p>
</td></tr><tr><td><p class="text-left">DQD</p>
</td><td><p class="text-left">fqc</p>
</td><td><p class="text-left">forward, quadrature, complex</p>
</td></tr></tbody></table><p> </p><p>Note that <strong>ft</strong> does not evaluate the processing parameter FT_mod but it does store the Fourier transform mode, as evaluated from the <span class=".index-entry" id="ID0E54GO"></span>acquisition mode, in the processing status parameter FT_mod. However, the command <strong><span class=".index-entry" id="ID0ED5GO"></span>trf</strong> determines the <span class=".index-entry" id="ID0EH5GO"></span>Fourier transform mode from the processing parameter FT_mod and not from the acquisition mode (see <strong>trf</strong>). </p><p><strong>ft</strong> evaluates the parameter FCOR. The first point of the FID is multiplied with FCOR which is a value between 0.0 and 2.0. However, on <span class=".index-entry" id="ID0ER5GO"></span>Avance spectrometers, the FID of <span class=".index-entry" id="ID0EV5GO"></span>digitally filtered data starts with a <span class=".index-entry" id="ID0EY5GO"></span>group delay of which the first points are zero so that the value of FCOR is irrelevant. On A*X data, FCOR allows to control the DC offset of the spectrum.</p><p><strong>ft</strong> evaluates the parameter PKNL. On A*X spectrometers, PKNL = true causes a non linear 5th order <span class=".index-entry" id="ID0E65GO"></span>phase correction of the raw data. This corrects possible errors caused by non linear behaviour of the analog filters. On Avance spectrometers, PKNL must always be set to TRUE. For <span class=".index-entry" id="ID0ED6GO"></span>digitally filtered data, it causes <strong>ft</strong> to handle the <span class=".index-entry" id="ID0EI6GO"></span>group delay of the FID. For analog data it has no effect.</p><p><strong>ft</strong> evaluates the parameter REVERSE. If REVERSE = TRUE, the spectrum will be <span class=".index-entry" id="ID0EP6GO"></span>reversed, i.e. the first output data point becomes the last and the last point becomes the first. The same effect is attained by using the command <strong><span class=".index-entry" id="ID0EU6GO"></span>rv</strong> after <strong>ft</strong>.</p><p><strong>ft</strong> automatically performs an FID baseline correction according to BC_mod.</p><p><strong>ft</strong> performs <span class=".index-entry" id="ID0ECAHO"></span>linear prediction according to ME_mod. This parameter can take the following values: </p><p><em>no </em>: no linear prediction</p><p><em>LPfr </em>: forward LP on real data</p><p><em>LPfc </em>: forward LP on complex data</p><p><em>LPbr </em>: backward LP on real data</p><p><em>LPbc </em>: backward LP on complex data</p><p><em>LPmifr </em>: mirror image forward LP on real data</p><p><em>LPmifc </em>: mirror image forward LP on complex data</p><p>Forward <span class=".index-entry" id="ID0EFBHO"></span>prediction can, for example, be used to extend <span class=".index-entry" id="ID0EJBHO"></span>truncated FIDs. Backward prediction can be used to improve the initial data points of the FID. <strong>ft</strong> determines the <span class=".index-entry" id="ID0EOBHO"></span>detection mode (real or complex) from the acquisition status parameter AQ_mod, not from ME_mod. As such, <strong>ft</strong> does not distinguish between ME_mod = LPfr and ME_mod = LPfc. The same counts for backward prediction. Note that the command <strong><span class=".index-entry" id="ID0EUBHO"></span>trf</strong> does determine the detection mode from ME_mod. Linear prediction is only performed for NCOEF &gt; 0. Furthermore, LPBIN and, for backward prediction, TDoff play a role (see these parameters in chapter List of processing parameters). By default, ME_mod is set to <em>no</em> which means no linear prediction is done.</p><p>When executed on a 2D or 3D dataset, <strong>ft</strong> takes up to four arguments, e.g. <strong>ft &lt;row&gt; &lt;procno&gt; y n</strong>, process the specified <em>row</em> and store it under the specified<em> procno</em>. The last two arguments are optional: <strong>y</strong> causes a possibly existing data to be overwritten without warning, <strong>n</strong> prevents TopSpin from changing to the destination dataset. Note that the oder of the last two arguments, <strong>y</strong> and <strong>n</strong>, is irrelevant. </p><p>If you run a command like <strong>ft</strong> from the command line, make sure that the required parameters are already set. Click the Procpars tab or enter <strong>edp</strong> to do that.</p><p>The <strong>ft</strong> command can be used on multidimensional data. In that case it automatically recognizes the dimensionality of the data and prompts for the row to be processed and the output<em> procno</em>. It only applies to the acquisition direction. </p><p>The <strong>ftf</strong> command can be used on 1D and 2D data. It recognizes the data dimensionality and opens a dialog box with the appropriate options and parameters.</p><h2 class="subheading">INPUT PARAMETERS </h2><p>Set from the <strong>ftf</strong> dialog box, with <strong>edp</strong> or by typing <strong>si</strong>, <strong>stsr</strong> etc.: </p><p>SI - size of the processed data</p><p>STSR - strip start: first output point of strip transform</p><p>STSI - strip size: number of output points of strip transform</p><p>TDeff - number of raw data points to be used for processing</p><p>FCOR - first (FID) data point multiplication factor (0.0-2.0, default 0.5)</p><p>REVERSE - flag indicating to reverse the spectrum</p><p>PKNL - group delay compensation (Avance) or filter correction (A*X)</p><p>ME_mod - FID linear prediction mode</p><p>NCOEF - number of linear prediction coefficients</p><p>LPBIN - number of points for linear prediction</p><p>TDoff - number of raw data points predicted for ME_mod = LPb*</p><p>Set by the acquisition, can be viewed with <strong>dpa</strong> or by typing <strong>s</strong> <strong>aq_mod</strong> etc.:</p><p>AQ_mod - acquisition mode (determines the Fourier transform mode)</p><p>TD - time domain; number of raw data points</p><p>BYTORDA - byteorder or the raw data</p><p>NC - normalization constant</p><h2 class="subheading">OUTPUT PARAMETERS</h2><p>Can be viewed with <strong>dpp</strong> or by typing <strong>s</strong> <strong>ft_mod</strong>, <strong>s</strong> <strong>tdeff</strong> etc.:</p><p>FT_mod - Fourier transform mode</p><p>TDeff - number of raw data points that were used for processing</p><p>STSR - strip start: first output point of strip transform</p><p>STSI - strip size: number of output points of strip transform</p><p>NC_proc - intensity scaling factor</p><p>YMAX_p - maximum intensity of the processed data</p><p>YMIN_p - minimum intensity of the processed data</p><p>BYTORDP - data storage order</p><h2 class="subheading">INPUT FILES</h2><p><em>&lt;dir&gt;/data/&lt;user&gt;/nmr/&lt;name&gt;/&lt;expno&gt;/</em></p><p><em>fid</em> - raw data (input if <em>1r</em>, <em>1i</em> do not exist or are Fourier transformed)</p><p><em>acqus</em> - acquisition status parameters</p><p><em>&lt;dir&gt;/data/&lt;user&gt;/nmr/&lt;name&gt;/&lt;expno&gt;/pdata/&lt;procno&gt;/</em></p><p><em>1r</em>, <em>1i</em> - processed data (input if they exist but are not Fourier transformed)</p><p><em>proc</em> - processing parameters</p><h2 class="subheading">OUTPUT FILES</h2><p><em>1r</em>, <em>1i</em> - processed 1D data (real, imaginary)</p><p><em>procs</em> - processing status parameters</p><p><em>auditp.txt</em> - processing audit trail</p><h2 class="subheading">USAGE IN AU PROGRAMS</h2><p>FT</p><h2 class="subheading">SEE ALSO</h2><p><a style="color:#3195CA;" href="3278435979.html">ift</a>, <a style="color:#3195CA;" href="3278427659.html">ht</a>, <a style="color:#3195CA;" href="3278524683.html">trf, trfp</a></p><div class="image"></div></div><div class="container"><footer><p class="text-muted">@ Bruker Corporation 2023</p></footer></div></div><div class="schema-navbar" id="navbar" role="navigation"><button class="schema-navbar-toggle visible-sm visible-xs" id="sidebar-toggle"><span class="schema-glyph schema-glyph-menu"></span></button><a class="schema-navbar-brand" href="index.html"><img class="schema-navbar-logo" src="../assets/img/logo_white.svg" /></a><button class="btn btn-default dropdown-toggle schema-navbar-toggle mobile-hidden-xs mobile-hidden-sm" style="margin-top:20px;" id="language-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="schema-glyph schema-glyph-more_vert" style="top:0;"></span></button><ul class="dropdown-menu" id="language-dropdown"><li class="dropdown-header hidden-md hidden-lg"></li><li class="hidden-md hidden-lg"><a href="index.html">Home</a></li><li class="dropdown-header">Language</li><li class="langMenuItem checked" data-value="en-US"><a href="../en-US/3278399627.html">us-english</a></li></ul><div id="navbar-search"><form class="schema-navbar-search hidden-xs pull-right" role="search" action="search.html"><input type="text" name="q" autocomplete="search2662718347" placeholder="Search" results="10" /></form></div><ul class="navbar-structure-pages hidden-sm hidden-xs "><li class="schema-home-text"><a href="index.html">Home</a></li></ul><button class="navbar-toggle schema-navbar-toggle visible-xs" data-toggle="collapse" data-target="#search-collapse"><span class="schema-glyph schema-glyph-search"></span></button><form class="collapse hidden-sm hidden-md hidden-lg" id="search-collapse" role="search" action="search.html"><input type="text" name="q" autocomplete="search2662718347" placeholder="Search" results="10" /></form></div></div></div><script type="text/javascript" charset="utf-8" src="js/treedata.json"></script><script src="../assets/js/00-jquery.min.js"></script><script src="../assets/js/01-bootstrap.min.js"></script><script src="../assets/js/02-modernizr.custom.js"></script><script src="../assets/js/03-jquery-tree.js"></script><script src="../assets/js/04-jquery.mmenu.oncanvas.min.js"></script><script src="../assets/js/05-jquery.mcustomscrollbar.min.js"></script><script src="../assets/js/06-jquery-scrollbars.min.js"></script><script src="../assets/js/18-schema-common-core.min.js"></script><script src="../assets/js/19-schema-common-search.js"></script><script src="../assets/js/20-bootstrap-schema.js"></script></body></html>