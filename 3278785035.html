<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2016 v1" /><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /><meta name="msapplication-config" content="none" /><link rel="icon" type="image/x-icon" href="../assets/ico/bruker.ico" /><link rel="stylesheet" href="../assets/css/base/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base/02-jquery-tree.css" /><link rel="stylesheet" href="../assets/css/base/03-bootstrap-schema.css" /><link rel="stylesheet" href="../assets/css/base/04-jquery.mcustomscrollbar.min.css" /><link rel="stylesheet" href="../assets/css/base/05-jquery.mmenu.oncanvas.css" /><link rel="stylesheet" href="../assets/css/base/06-jquery.mmenu.schema.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><title>xtrf, xtrf2</title></head><body id="3278785035" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="3278785035" class="" data-culture="en-US"><div class="off-canvas"><div id="off-canvas-menu" role="complementary"></div><div id="pushobj"><div class="scroll-container content-container" id="content-container"><div class="container" role="main"><ol class="breadcrumb hidden-xs"><li><a style="color:#3195CA;" href="index.html"></a></li><li><a style="color:#3195CA;" href="3278568587.html">2D Processing Commands</a></li><li>xtrf, xtrf2</li></ol><h1 class="heading" style="color:black;">xtrf, xtrf2</h1><div class="metalist"></div><h2 class="subheading">NAME</h2><p>xtrf - Custom processing of raw data in F2 and F1 (2D) <span class=".index-entry" id="ID0ECTZO"></span><span class=".index-entry" id="ID0EETZO"></span></p><p>xtrf2 - Custom processing of raw data in F2 (2D)</p><h2 class="subheading">DESCRIPTION</h2><p>The command <strong>xtrf</strong> performs customized processing of the raw data in both the F2 and F1 direction. It processes data according to the processing parameters BC_mod, WDW, ME_mod, FT_mod and PH_mod. <strong>xtrf</strong> works like <strong><span class=".index-entry" id="ID0ETTZO"></span>xfb</strong>, except for the following differences:</p><ol class="list"><li value="1">The <span class=".index-entry" id="ID0E4TZO"></span>Fourier transform is performed according to the processing parameter FT_mod, whereas the acquisition status parameter AQ_mod is ignored. This, for example, allows to process the data without Fourier transform (FT_mod = no). Furthermore, you can choose a Fourier transform mode different from the one that would be evaluated from the <span class=".index-entry" id="ID0EBUZO"></span>acquisition mode. This feature is not used very often because the Fourier transform as evaluated from the acquisition mode is usually the correct one. If, however, you want to manipulate the <span class=".index-entry" id="ID0EFUZO"></span>acquisition mode of the raw data, you can Fourier transform the data with one FT_mod, <span class=".index-entry" id="ID0EJUZO"></span>inverse Fourier transform them with a different FT_mod. Then you can use <strong><span class=".index-entry" id="ID0EOUZO"></span>genser</strong> to create pseudo-raw data with a different acquisition mode than the original raw data. The table below shows a list of values of FT_mod.</li><li value="2">A <span class=".index-entry" id="ID0EWUZO"></span>baseline correction is performed according to BC_mod. This parameter can take the value <em>no</em>, <em>single</em>, <em>quad</em>, <em>spol</em>, <em>qpol</em>, <em>sfil</em> or <em>qfil.</em> <strong>xtrf</strong> evaluates BC_mod for the baseline correction mode (e.g. quad, qpol or qfil) and for the <span class=".index-entry" id="ID0EKVZO"></span>detection mode (e.g. single or quad, spol or qpol, sfil or qfil). Note that <strong>xfb</strong> evaluates the acquisition status parameter AQ_mod for the detection mode. More details on BC_mod can be found in chapter List of processing parameters.</li><li value="3">When all parameters mentioned above are set to <em>no</em>, no processing is done but the raw data are still stored as processed data and displayed on the screen. This means the raw data are converted to <span class=".index-entry" id="ID0EZVZO"></span>submatrix format (files <em>2rr</em>, <em>2ir</em>, <em>2ri</em> and <em>2ii</em>) and scaled according to the vertical resolution. The <span class=".index-entry" id="ID0EEWZO"></span>intensity scaling factor is stored in the processing status parameter NC_proc and can be viewed with <strong>dpp</strong>. The size of these processed data and the number of raw data points which are used are determined by the parameters SI, TDeff and TDoff, as described for the command <strong>xfb</strong>. For example, if 0 &lt; TDeff &lt; TD, the processed data are truncated. This allows to create pseudo-raw data with a smaller size than the original raw data (see also <strong><span class=".index-entry" id="ID0ENWZO"></span>genser</strong>).</li></ol><table class="table tabletype-header table-fixed"><colgroup><col style="width: 29.4%;"></col><col style="width: 70.5%;"></col></colgroup><thead><tr><th><p class="text-left">FT_mod</p></th><th><p class="text-left">Fourier transform mode</p></th></tr></thead><tbody><tr><td><p class="text-left">no</p>
</td><td><p class="text-left">no Fourier transform</p>
</td></tr><tr><td><p class="text-left">fsr</p>
</td><td><p class="text-left">forward, single channel, real</p>
</td></tr><tr><td><p class="text-left">fqr</p>
</td><td><p class="text-left">forward, <span class=".index-entry" id="ID0EDYZO"></span>quadrature, real</p>
</td></tr><tr><td><p class="text-left">fsc</p>
</td><td><p class="text-left">forward, single channel, complex</p>
</td></tr><tr><td><p class="text-left">fqc</p>
</td><td><p class="text-left">forward, quadrature, complex</p>
</td></tr><tr><td><p class="text-left">isr</p>
</td><td><p class="text-left">inverse, single channel, real</p>
</td></tr><tr><td><p class="text-left">iqr</p>
</td><td><p class="text-left">inverse, <span class=".index-entry" id="ID0ETZZO"></span>quadrature, real</p>
</td></tr><tr><td><p class="text-left">isc</p>
</td><td><p class="text-left">inverse, single channel, complex</p>
</td></tr><tr><td><p class="text-left">iqc</p>
</td><td><p class="text-left">inverse, quadrature, complex</p>
</td></tr></tbody></table><p> </p><p>The F1 Fourier transform mode and data storage mode depends on the F1 acquisition mode (see INPUT PARAMETERS below and the description of <strong>xfb</strong>). </p><p><strong>xtrf2</strong> works like <strong>xtrf</strong>, except that it only works in the F2 direction.</p><p><strong>xtrf</strong> and <strong>xtrf2</strong> take the same options as <strong>xfb</strong>.</p><p><strong>xtrf</strong> can be used to do a combination of forward and backward <span class=".index-entry" id="ID0EI2ZO"></span>prediction.</p><p>Run <strong>xtrf</strong> with ME_mod = LPfc and <strong><span class=".index-entry" id="ID0ES2ZO"></span>xtrfp</strong> (or <strong>xfb</strong>) with ME_mod = LPbc.</p><h2 class="subheading">INPUT PARAMETERS </h2><p><strong>F2 and F1 direction </strong></p><p>Set by the user with <strong>edp</strong> or by typing <strong>si</strong>, <strong>bc_mod</strong>, <strong>bcfw</strong> etc.:</p><p>SI - size of the processed data</p><p>TDeff - number of raw data points to be used for processing </p><p>TDoff - first point of the FID used for processing (default 0)</p><p>FCOR - first (FID) data point multiplication factor (0.0-2.0, default 0.5)</p><p>BC_mod - FID baseline correction mode</p><p>  BCFW - filter width for BC_mod = sfil or qfil</p><p>  COROFFS - correction offset for BC_mod = spol/qpol or sfil/qfil</p><p>ME_mod - FID linear prediction mode</p><p>  NCOEF - number of linear prediction coefficients </p><p>  LPBIN - number of points for linear prediction </p><p>  TDoff - number of raw data points predicted for ME_mod = LPb*</p><p>WDW - FID window multiplication mode</p><p>  LB - Lorentzian broadening factor for WDW = em or gm</p><p>  GB - Gaussian broadening factor for WDW = gm, sinc or qsinc</p><p>  SSB - Sine bell shift for WDW = sine, qsine, sinc or qsinc</p><p>  TM1, TM2 - limits of the trapezoidal window for WDW = trap</p><p>FT_mod - Fourier transform mode</p><p>  STSR - strip start: first output point of strip transform</p><p>  STSI - strip size: number of output points of strip transform</p><p>  REVERSE - flag indicating to reverse the spectrum</p><p>  PKNL - group delay compensation (Avance) or filter correction (A*X)</p><p>PH_mod - phase correction mode</p><p>  PHC0 - zero order phase correction value for PH_mod = pk</p><p>  PHC1 - first order phase correction value for PH_mod = pk</p><p>Set by the acquisition, can be viewed with <strong>dpa</strong> or by typing <strong>s</strong> <strong>td</strong> :</p><p>TD - time domain; number of raw data points</p><p><strong>F2 direction </strong></p><p>Set by the acquisition, can be viewed with <strong>dpa</strong> or by typing <strong>s</strong> <strong>bytorda</strong>:</p><p>BYTORDA - byteorder or the raw data</p><p>NC - normalization constant</p><p><strong>F1 direction </strong></p><p>Set by the acquisition, can be viewed with <strong>dpa</strong> or by typing <strong>s</strong> <strong>fnmode</strong>:</p><p>FnMODE - Acquisition mode</p><h2 class="subheading">OUTPUT PARAMETERS </h2><p><strong>F2 and F1 parameters</strong></p><p>Can be viewed with <strong>dpp</strong> or by typing <strong>s</strong> <strong>si</strong> etc.:</p><p>SI - size of the processed data</p><p>TDeff - number of raw data points that were used for processing</p><p>STSR - strip start: first output point of strip transform </p><p>STSI - strip size: number of output points of strip transform</p><p>XDIM - submatrix size</p><p><strong>F2 parameters</strong></p><p>Can be viewed with <strong>dpp</strong> or by typing <strong>s</strong> <strong>ymax_p</strong>, <strong>s</strong> <strong>ymin_p</strong> etc.:</p><p>YMAX_p - maximum intensity of the processed data</p><p>YMIN_p - minimum intensity of the processed data</p><p>S_DEV - standard deviation of the processed data</p><p>NC_proc - intensity scaling factor</p><p>BYTORDP - byte order of the processed data</p><h2 class="subheading">INPUT FILES</h2><p><em>&lt;dir&gt;/data/&lt;user&gt;/nmr/&lt;name&gt;/&lt;expno&gt;/</em></p><p>  <em>ser</em> - raw data</p><p>  <em>acqus</em> - F2 acquisition status parameters</p><p>  <em>acqu2s</em> - F1 acquisition status parameters</p><p><em>&lt;dir&gt;/data/&lt;user&gt;/nmr/&lt;name&gt;/&lt;expno&gt;/pdata/&lt;procno&gt;/</em></p><p>  <em>proc</em> - F2 processing parameters</p><p>  <em>proc2</em> - F1 processing parameters</p><h2 class="subheading">OUTPUT FILES</h2><p><em>&lt;dir&gt;/data/&lt;user&gt;/nmr/&lt;name&gt;/&lt;expno&gt;/pdata/&lt;procno&gt;/</em></p><p>  <em>2rr</em>, <em>2ir</em>, <em>2ri</em>, <em>2ii</em> - processed 2D data</p><p>  <em>procs</em> - processing status parameters</p><p>  <em>proc2s</em> - processing status parameters</p><p>  <em>auditp.txt</em> - processing audit trail</p><h2 class="subheading">USAGE IN AU PROGRAMS</h2><p>XTRF</p><p>XTRF2</p><h2 class="subheading">SEE ALSO</h2><p><a style="color:#3195CA;" href="3278794123.html">xtrfp, xtrfp2</a>, <a style="color:#3195CA;" href="3278749323.html">xfb, ftf</a>, <a style="color:#3195CA;" href="3278741003.html">xf2</a>, <a style="color:#3195CA;" href="3278722955.html">xf1</a></p></div><div class="container"><footer><p class="text-muted">@ Bruker Corporation 2023</p></footer></div></div><div class="schema-navbar" id="navbar" role="navigation"><button class="schema-navbar-toggle visible-sm visible-xs" id="sidebar-toggle"><span class="schema-glyph schema-glyph-menu"></span></button><a class="schema-navbar-brand" href="index.html"><img class="schema-navbar-logo" src="../assets/img/logo_white.svg" /></a><button class="btn btn-default dropdown-toggle schema-navbar-toggle mobile-hidden-xs mobile-hidden-sm" style="margin-top:20px;" id="language-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="schema-glyph schema-glyph-more_vert" style="top:0;"></span></button><ul class="dropdown-menu" id="language-dropdown"><li class="dropdown-header hidden-md hidden-lg"></li><li class="hidden-md hidden-lg"><a href="index.html">Home</a></li><li class="dropdown-header">Language</li><li class="langMenuItem checked" data-value="en-US"><a href="../en-US/3278785035.html">us-english</a></li></ul><div id="navbar-search"><form class="schema-navbar-search hidden-xs pull-right" role="search" action="search.html"><input type="text" name="q" autocomplete="search2662718347" placeholder="Search" results="10" /></form></div><ul class="navbar-structure-pages hidden-sm hidden-xs "><li class="schema-home-text"><a href="index.html">Home</a></li></ul><button class="navbar-toggle schema-navbar-toggle visible-xs" data-toggle="collapse" data-target="#search-collapse"><span class="schema-glyph schema-glyph-search"></span></button><form class="collapse hidden-sm hidden-md hidden-lg" id="search-collapse" role="search" action="search.html"><input type="text" name="q" autocomplete="search2662718347" placeholder="Search" results="10" /></form></div></div></div><script type="text/javascript" charset="utf-8" src="js/treedata.json"></script><script src="../assets/js/00-jquery.min.js"></script><script src="../assets/js/01-bootstrap.min.js"></script><script src="../assets/js/02-modernizr.custom.js"></script><script src="../assets/js/03-jquery-tree.js"></script><script src="../assets/js/04-jquery.mmenu.oncanvas.min.js"></script><script src="../assets/js/05-jquery.mcustomscrollbar.min.js"></script><script src="../assets/js/06-jquery-scrollbars.min.js"></script><script src="../assets/js/18-schema-common-core.min.js"></script><script src="../assets/js/19-schema-common-search.js"></script><script src="../assets/js/20-bootstrap-schema.js"></script></body></html>