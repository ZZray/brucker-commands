<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2016 v1" /><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /><meta name="msapplication-config" content="none" /><link rel="icon" type="image/x-icon" href="../assets/ico/bruker.ico" /><link rel="stylesheet" href="../assets/css/base/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base/02-jquery-tree.css" /><link rel="stylesheet" href="../assets/css/base/03-bootstrap-schema.css" /><link rel="stylesheet" href="../assets/css/base/04-jquery.mcustomscrollbar.min.css" /><link rel="stylesheet" href="../assets/css/base/05-jquery.mmenu.oncanvas.css" /><link rel="stylesheet" href="../assets/css/base/06-jquery.mmenu.schema.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><title>tf1</title></head><body id="3277594763" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="3277594763" class="" data-culture="en-US"><div class="off-canvas"><div id="off-canvas-menu" role="complementary"></div><div id="pushobj"><div class="scroll-container content-container" id="content-container"><div class="container" role="main"><ol class="breadcrumb hidden-xs"><li><a style="color:#3195CA;" href="index.html"></a></li><li><a style="color:#3195CA;" href="3277535243.html">3D Processing Commands</a></li><li>tf1</li></ol><h1 class="heading" style="color:black;">tf1</h1><div class="metalist"></div><h2 class="subheading">NAME</h2><p>tf1 - Process data, including FT, in F2 (3D) <span class=".index-entry" id="ID0EM24O"></span></p><h2 class="subheading">DESCRIPTION</h2><p>The command <strong>tf1</strong> processes a 3D dataset in the F1 direction. This involves a <span class=".index-entry" id="ID0EW24O"></span>Fourier transform which transforms time domain data (FID) into <span class=".index-entry" id="ID0E124O"></span>frequency domain data (spectrum). Depending on the processing parameters BC_mod, WDW, ME_mod and PH_mod, <strong>tf1</strong> also performs <span class=".index-entry" id="ID0E624O"></span>baseline correction, <span class=".index-entry" id="ID0ED34O"></span><span class=".index-entry" id="ID0EG34O"></span>window multiplication, <span class=".index-entry" id="ID0EK34O"></span>linear prediction and spectrum <span class=".index-entry" id="ID0EO34O"></span>phase correction. </p><p>The processing steps done by <strong>tf1</strong> can be described as follows: </p><p><strong>tf1</strong> only works on data which have already been processed with <strong><span class=".index-entry" id="ID0E334O"></span>tf3</strong> and possibly with <strong>tf2</strong>. It performs the following processing steps: </p><ol class="list"><li value="1">Baseline correction of the F1 time domain data</li><li value="2">Each <span class=".index-entry" id="ID0EL44O"></span>tube is baseline corrected according to BC_mod. This parameter takes the value <em>no</em>, <em>single</em>, <em>quad</em>, <em>spol</em>, <em>qpol</em> <em>sfil</em> or <em>qfil</em>. More details on BC_mod can be found in chapter List of processing parameters.</li><li value="3">Linear prediction of the F1 time domain data</li><li value="4">Linear prediction is done according to ME_mod. This parameter takes the value <em>no</em>, <em>LPfr</em>, <em>LPfc</em>, <em>LPbr</em>, <em>LPbc, LPmifr, LPmifc. </em>Usually, ME_mod = no, which means no prediction is done. Forward prediction in F1 (<em>LPfr</em>, <em>LPfc</em>,<em> LPmifr</em> or <em>LPmifc</em>) can, for example, be used to extend <span class=".index-entry" id="ID0EZ54O"></span>truncated FIDs. Backward prediction (<em>LPbr</em> or <em>LPbc</em>) is not used very often in F1. Linear prediction is only performed for NCOEF &gt; 0. Furthermore, LPBIN and, for backward prediction, TDoff play a role (see these parameters in chapter List of processing parameters).</li><li value="5">Window<span class=".index-entry" id="ID0EI64O"></span> multiplication of the F1 time domain data</li><li value="6">Each tube is multiplied with a window function according to WDW. This parameter takes the value <em>em</em>, <em>gm</em>, <em>sine</em>, <em>qsine</em>, <em>trap</em>, <em>user</em>, <em>sinc</em>, <em>qsinc</em>, <em>traf</em> or <em>trafs</em>. More details on WDW can be found in chapter List of processing parameters.</li><li value="7">Fourier transform of the F1 time domain data. Each tube is Fourier transformed according to the F1 processing status parameter MC2. <strong>tf1</strong> does not evaluate the processing parameter FT_mod! Instead, it evaluates the F1 processing status parameter MC2, which was set by <strong>tf3</strong> to the value of the F1 acquisition status parameter FnMODE (if FnMODE = undefined, tf3 sets processing status MC2 to processing MC2). <strong>tf1</strong> stores the corresponding Fourier transform mode as the processing status parameter FT_mod (type <strong>dpp</strong>).</li><li value="8">Phase correction of the F1 frequency domain data. </li><li value="9">Each column is phase corrected according to PH_mod. This parameter takes the value <em>no</em>, <em>pk</em>, <em>mc</em> or <em>ps</em>. For PH_mod = pk, <strong>tf1</strong> applies the values of PHC0 and PHC1. This is only useful if the <span class=".index-entry" id="ID0EFB5O"></span>phase values are known. You can determine them by typing <strong>xfb</strong> on the 3D data to process a 13 or 12 plane, do a phase correction on the resulting the 2D dataset and store the phase values to 3D. More details on PH_mod can be found in chapter List of processing parameters.</li></ol><table class="table tabletype-framed table-fixed"><colgroup><col style="width: 27.3%;"></col><col style="width: 45.3%;"></col><col style="width: 27.3%;"></col></colgroup><tbody><tr><td><p class="text-left">F1 MC2</p>
</td><td><p class="text-left">Fourier transform mode</p>
</td><td><p class="text-left">status FT_mod</p>
</td></tr><tr><td><p class="text-left">QF </p>
</td><td><p class="text-left">forward, quad, real</p>
</td><td><p class="text-left">fqc</p>
</td></tr><tr><td><p class="text-left">QSEQ</p>
</td><td><p class="text-left">forward, quad, real</p>
</td><td><p class="text-left">fqr</p>
</td></tr><tr><td><p class="text-left">TPPI </p>
</td><td><p class="text-left">forward, single, real</p>
</td><td><p class="text-left">fsr</p>
</td></tr><tr><td><p class="text-left">States</p>
</td><td><p class="text-left">forward, quad, complex</p>
</td><td><p class="text-left">fqc</p>
</td></tr><tr><td><p class="text-left">States-TPPI</p>
</td><td><p class="text-left">forward, single, complex</p>
</td><td><p class="text-left">fsc</p>
</td></tr><tr><td><p class="text-left">Echo-AntiEcho</p>
</td><td><p class="text-left">forward, quad, complex</p>
</td><td><p class="text-left">fqc</p>
</td></tr></tbody></table><p> </p><p>The F1 processing parameter SI determines the size of the processed data in the F1 direction. This must, however, be set before <strong>tf3</strong> is done and cannot be changed after <strong>tf3</strong>. See <strong>tf3</strong> for the role of TD, TDeff and TDoff. </p><p><strong>tf1</strong> can do a <span class=".index-entry" id="ID0EXF5O"></span>strip transform according to the F1 parameters STSR and STSI (see <strong>tf3</strong>). </p><p><strong>tf1</strong> evaluates the F1 parameter FCOR. The first point of the FIDs is multiplied with the value of FCOR which is a value between 0.0 and 2.0. As such, FCOR allows to control the DC offset of the spectrum.</p><p><strong>tf1</strong> evaluates the F1 parameter REVERSE. If REVERSE=TRUE, the spectrum will be <span class=".index-entry" id="ID0EFG5O"></span>reversed in F1, i.e. the first data point becomes the last and the last data point becomes the first.</p><p><strong>tf1</strong> evaluates the F1 status parameter MC2. For MC2 ≠ QF, <strong>tf1</strong> uses the file <em>3rrr</em> as input and the files <em>3rrr</em> and <em>3rri</em> as output. For MC2 = QF, <strong>tf1</strong> uses the files <em>3rrr</em> and <em>3iii</em> as input and output. The role of MC2 is described in detail for the 2D processing command <strong>xfb</strong>. </p><h2 class="subheading">INPUT PARAMETERS </h2><h2 class="subheading">F1 parameters</h2><p>Set by the user with <strong>edp</strong> or by typing <strong>bc_mod</strong>, <strong>bcfw</strong> etc.:</p><p>BC_mod - FID baseline correction mode</p><p>BCFW - filter width for BC_mod = sfil or qfil</p><p>COROFFS - correction offset for BC_mod = spol/qpol or sfil/qfil</p><p>ME_mod - FID linear prediction mode</p><p>NCOEF - number of linear prediction coefficients </p><p>LPBIN - number of points for linear prediction </p><p>TDoff - number of raw data points predicted for ME_mod = LPb*</p><p>WDW - FID window multiplication mode</p><p>LB - Lorentzian broadening factor for WDW = em or gm</p><p>GB - Gaussian broadening factor for WDW = gm, sinc or qsinc</p><p>SSB - Sine bell shift for WDW = sine, qsine, sinc or qsinc</p><p>TM1, TM2 - limits of the trapezoidal window for WDW = trap</p><p>PH_mod - phase correction mode</p><p>PHC0 - zero order phase correction value for PH_mod = pk</p><p>PHC1 - first order phase correction value for PH_mod = pk</p><p>FCOR - first (FID) data point multiplication factor (0.0-2.0, default 0.5)</p><p>REVERSE - flag indicating to reverse the spectrum</p><h2 class="subheading">F3, F2 and F1 parameters</h2><p>Set by <strong>tf3</strong>, can be viewed with <strong>dpp</strong> or by typing <strong>s</strong> <strong>si</strong>, <strong>s</strong> <strong>stsi</strong> etc.:</p><p>SI - size of the processed data</p><p>STSR - strip start: first output point of strip transform</p><p>STSI - strip size: number of output points of strip transform</p><p>TDeff - number of raw data points to be used for processing</p><p>TDoff - first point of the FID used for processing (default 0)</p><h2 class="subheading">F1 parameters</h2><p>Set by the <strong>tf3</strong>, can be viewed with <strong>dpp</strong> or by typing <strong>s</strong> <strong>mc2</strong> :</p><p>MC2 - Fourier transform mode</p><h2 class="subheading">OUTPUT PARAMETERS </h2><h2 class="subheading">F1 parameters</h2><p>can be viewed with <strong>dpp</strong> or by typing <strong>s</strong> <strong>ft_mod</strong> :</p><p>FT_mod - Fourier transform mode</p><p>FTSIZE - Fourier transform size</p><h2 class="subheading">F3 parameters</h2><p>Can be viewed with <strong>dpp</strong> or by typing <strong>s</strong> <strong>ymax_p</strong> etc.:</p><p>YMAX_p - maximum intensity of the processed data</p><p>YMIN_p - minimum intensity of the processed data</p><p>S_DEV - standard deviation of the processed data</p><p>NC_proc - intensity scaling factor</p><h2 class="subheading">INPUT FILES</h2><p><em>&lt;dir&gt;/data/&lt;user&gt;/nmr/&lt;name&gt;/&lt;expno&gt;/</em></p><p><em>acqu3s</em> - F1 acquisition status parameters</p><p><em>&lt;dir&gt;/data/&lt;user&gt;/nmr/&lt;name&gt;/&lt;expno&gt;/pdata/&lt;procno&gt;/</em></p><p><em>3rrr</em> - processed 3D data (Fourier transformed in F1) </p><p><em>3iii</em> - real/imaginary processed data (if MC2 = QF)</p><p><em>proc3</em> - F1 processing parameters</p><h2 class="subheading">OUTPUT FILES</h2><p><em>&lt;dir&gt;/data/&lt;user&gt;/nmr/&lt;name&gt;/&lt;expno&gt;/pdata/&lt;procno&gt;/</em></p><p><em>3rrr</em> - real processed 3D data </p><p><em>3rir</em> - real/imaginary data (if MC2 ≠ QF)</p><p><em>3iii</em> - real/imaginary processed data (if MC2 = QF)</p><p><em>proc3s</em> - F1 processing status parameters</p><p><em>auditp.txt</em> - processing audit trail</p><h2 class="subheading">USAGE IN AU PROGRAMS</h2><p>TF1(store_imag)</p><p>Where <em>store_image</em> can be <em>y</em> or <em>n</em></p><h2 class="subheading">SEE ALSO</h2><p><a style="color:#3195CA;" href="3277581963.html">tf3</a>, <a style="color:#3195CA;" href="3277587211.html">tf2</a>, <a style="color:#3195CA;" href="3277539723.html">ft3d</a></p></div><div class="container"><footer><p class="text-muted">@ Bruker Corporation 2023</p></footer></div></div><div class="schema-navbar" id="navbar" role="navigation"><button class="schema-navbar-toggle visible-sm visible-xs" id="sidebar-toggle"><span class="schema-glyph schema-glyph-menu"></span></button><a class="schema-navbar-brand" href="index.html"><img class="schema-navbar-logo" src="../assets/img/logo_white.svg" /></a><button class="btn btn-default dropdown-toggle schema-navbar-toggle mobile-hidden-xs mobile-hidden-sm" style="margin-top:20px;" id="language-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="schema-glyph schema-glyph-more_vert" style="top:0;"></span></button><ul class="dropdown-menu" id="language-dropdown"><li class="dropdown-header hidden-md hidden-lg"></li><li class="hidden-md hidden-lg"><a href="index.html">Home</a></li><li class="dropdown-header">Language</li><li class="langMenuItem checked" data-value="en-US"><a href="../en-US/3277594763.html">us-english</a></li></ul><div id="navbar-search"><form class="schema-navbar-search hidden-xs pull-right" role="search" action="search.html"><input type="text" name="q" autocomplete="search2662718347" placeholder="Search" results="10" /></form></div><ul class="navbar-structure-pages hidden-sm hidden-xs "><li class="schema-home-text"><a href="index.html">Home</a></li></ul><button class="navbar-toggle schema-navbar-toggle visible-xs" data-toggle="collapse" data-target="#search-collapse"><span class="schema-glyph schema-glyph-search"></span></button><form class="collapse hidden-sm hidden-md hidden-lg" id="search-collapse" role="search" action="search.html"><input type="text" name="q" autocomplete="search2662718347" placeholder="Search" results="10" /></form></div></div></div><script type="text/javascript" charset="utf-8" src="js/treedata.json"></script><script src="../assets/js/00-jquery.min.js"></script><script src="../assets/js/01-bootstrap.min.js"></script><script src="../assets/js/02-modernizr.custom.js"></script><script src="../assets/js/03-jquery-tree.js"></script><script src="../assets/js/04-jquery.mmenu.oncanvas.min.js"></script><script src="../assets/js/05-jquery.mcustomscrollbar.min.js"></script><script src="../assets/js/06-jquery-scrollbars.min.js"></script><script src="../assets/js/18-schema-common-core.min.js"></script><script src="../assets/js/19-schema-common-search.js"></script><script src="../assets/js/20-bootstrap-schema.js"></script></body></html>