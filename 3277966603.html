<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms"><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="generator" content="SCHEMA ST4, Bootstrap 2016 v1" /><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" /><meta name="msapplication-config" content="none" /><link rel="icon" type="image/x-icon" href="../assets/ico/bruker.ico" /><link rel="stylesheet" href="../assets/css/base/01-bootstrap.min.css" /><link rel="stylesheet" href="../assets/css/base/02-jquery-tree.css" /><link rel="stylesheet" href="../assets/css/base/03-bootstrap-schema.css" /><link rel="stylesheet" href="../assets/css/base/04-jquery.mcustomscrollbar.min.css" /><link rel="stylesheet" href="../assets/css/base/05-jquery.mmenu.oncanvas.css" /><link rel="stylesheet" href="../assets/css/base/06-jquery.mmenu.schema.css" /><link rel="stylesheet" href="../assets/css/formats.css" /><title>edpul, edcpd, edpy, edpy3, edmac</title></head><body id="3277966603" lang="en-US" xmlns:forms="http://www.schema.de/2010/ST4/Layout/MarkupLanguage/Forms" data-node-id="3277966603" class="" data-culture="en-US"><div class="off-canvas"><div id="off-canvas-menu" role="complementary"></div><div id="pushobj"><div class="scroll-container content-container" id="content-container"><div class="container" role="main"><ol class="breadcrumb hidden-xs"><li><a style="color:#3195CA;" href="index.html"></a></li><li><a style="color:#3195CA;" href="3277900683.html">Parameters, Lists, AU Programs</a></li><li>edpul, edcpd, edpy, edpy3, edmac</li></ol><h1 class="heading" style="color:black;">edpul, edcpd, edpy, edpy3, edmac</h1><div class="metalist"></div><h2 class="subheading">NAME</h2><p>edpul - Edit <span class=".index-entry" id="ID0ELKXQ"></span>pulse programs<span class=".index-entry" id="ID0EPKXQ"></span></p><p>edcpd - Edit <span class=".index-entry" id="ID0ETKXQ"></span>composite pulse decoupling (<span class=".index-entry" id="ID0EWKXQ"></span>CPD) programs<span class=".index-entry" id="ID0E1KXQ"></span></p><p>edpy - Edit Jython programs<span class=".index-entry" id="ID0E5KXQ"></span></p><p>edpy3 – Edit Python 3 programs</p><p>edmac - Edit <span class=".index-entry" id="ID0EDLXQ"></span>macros<span class=".index-entry" id="ID0EHLXQ"></span></p><h2 class="subheading">DESCRIPTION</h2><p>The commands <strong>edpul</strong>, <strong>edcpd</strong>, <strong>edpy</strong> and <strong>edmac</strong> open a dialog that lists pulse programs, CPD programs, Python programs and macros, respectively. The dialog offers various functions like edit, create, search, delete, import and export. These programs are stored in a database.</p><p>The dialog for the command <strong>edpul</strong> is shown in the figure below. The dialogs for <strong>edcpd</strong>, <strong>edpy</strong> and <strong>edmac</strong> have the same menu but can offer different buttons.</p><figure class="img_80"><img src="../Images/png/2237304075__en-US__Web.png" width="873" height="438" /></figure><p> </p><p><strong>Search List Box</strong></p><p>Database items can be searched in two possible ways, as can be chosen from the list box at the upper left of the dialog:</p><ul class="list"><li value="1"><em>Search in names</em> - to search for a string in the item names.</li><li value="2"><em>Search in text</em> - to search for a string in item text contents.</li></ul><p><strong>Search Text Field</strong></p><p>Here you can enter one or more characters of the item name or contents. The following wildcards can be used:</p><p>* : for zero or more occurrences of any character</p><p>? : for a single occurrence of any character</p><p>Here are some examples:</p><ul class="list"><li value="1">*xxx* finds all occurrences of xxx.</li><li value="2">??xxx* finds all occurrences of xxx preceded by two arbitrary characters.</li></ul><p>A search mask for item names can also be specified on the command line, e.g. <strong>edpul ??cos*</strong></p><p><strong>Conditional List boxes</strong></p><p>These list boxes are only offered if the selected item has the corresponding item defined. For example, most high resolution pulse programs have a Class and Dim definition but not Type or SubType definition.</p><p><strong>Class</strong></p><p>Allows to show a particular class of items or all items (any).</p><p><strong>Dim</strong></p><p>Allows to show items of a particular dataset dimension or all items (any).</p><p><strong>Type</strong></p><p>Allows to show a particular type of items or all items (any).</p><p><strong>SubType</strong></p><p>Allows to show items of a particular subtype of items or all items (any).</p><h2 class="subheading">Available Buttons</h2><p><strong>All </strong></p><p>Show items of all classes, dimensions, types and subtypes.</p><p><strong>Edit </strong></p><p>Opens the selected item (pulse program, CPD program, ...) in the TopSpin text editor or viewer, depending on whether the selected item is writable for the current user or not (see below). Writable items can be modified in the editor. They can be saved from the editor as follows:</p><p>In the menu click <strong>File | Save</strong> [<strong>Ctrl-s</strong>]</p><p>Write-protected items can be saved under a different name as follows:</p><p>In the menu click <strong>File | Save as..</strong></p><p>The new item is owned by and writable for the current TopSpin user.</p><p>Items can also be created /modified with an external (non-TopSpin) editor. They can then be imported in the database as described below.</p><p><em>Graphical Edit</em> (for pulse programs only)</p><p>Opens a symbolic graphical display of the selected pulse program, with the possibility of graphical editing.</p><p><em>Set PULPROG</em> (for pulse programs only)</p><p>Sets the acquisition parameter PULPPROG to the name of the selected pulse program.</p><h2 class="subheading">The Options menu</h2><p>The Options menu offers the following functions:</p><p><strong>Show Comment </strong></p><p>Toggles between displaying items with/without comments.</p><p><strong>Show Date </strong></p><p>Toggles between displaying items with/without date.</p><p><strong>Sort by Date </strong></p><p>Sort items by date when selected.</p><p><strong>Manage Source Directories</strong></p><p>Add/modify item source directories. Items will be searched for in the order of the directories specified.</p><p>For detailed information about Source Directory Handling and <strong>Manage Source Directories</strong><em> </em>please refer to chapter User specific handling of Source Directories.</p><p><strong>Export Sources... </strong></p><p>Opens a dialog to export an entire item library to a user defined directory. Note the difference to the <strong>Export</strong> function under the File menu (see below).</p><h2 class="subheading">The File menu</h2><p>The File menu offers the following functions:</p><p><strong>New </strong></p><p>Opens an empty editor for creating a new item, e.g. a pulse program. Saving the text will prompt you for the item name, and will store it in the database. The owner of the item will be the current TopSpin user.</p><p> </p><p><strong>Save As...</strong></p><p>Saves the selected item under a new name. Opens a dialog where you can selected a source directory and specify a filename.</p><p> </p><p><strong>Delete... </strong></p><p>Deletes all selected items from the database (if not write protected). You will be prompted to confirm deletion.</p><p> </p><p><strong>Rename...</strong></p><p>Allows to rename the selected item in the database (if not write protected).</p><p> </p><p><strong>Export...</strong></p><p>Exports one or more items to text files. To do that:</p><ol class="list"><li value="1">Mark one or more items in the dialog.</li><li value="2">Click <strong>File | Export </strong><img style="vertical-align: baseline;" src="../Images/png/2295504523__en-US__Web.png" /></li><li value="3">Select or enter the storage directory and click <strong>Export...</strong></li></ol><p>The selected item(s) will be stored under their original names, provided there is write permission.</p><p> </p><p><strong>Import...</strong></p><p>Imports external item (e.g. pulse program) files into the database and lists it in the dialog. First, it opens a file browser where you can navigate to a directory containing your text files (which may have been created outside of TopSpin). Select or enter the desired files in the browser and click <strong>Import</strong>. The dialog will be updated showing the imported item. Please note that:</p><ul class="list"><li value="1">The owner of imported items is the current TopSpin user.</li><li value="2">Write-protected items in the database cannot be overwritten by importing items with the same name.</li><li value="3">Writable items with the same name are only overwritten by import, after user confirmation.</li><li value="4"></li></ul><p><strong>Close </strong></p><p>Close the dialog</p><h2 class="subheading">Current TopSpin User</h2><p>The current TopSpin user can be one of the following users:</p><ul class="list"><li value="1">The system login user, i.e. the user who started TopSpin. This is the case if <strong>TopSpin internal login/logoff</strong>is disabled.</li><li value="2">The current internal TopSpin user. This is the case if <strong>TopSpin internal login/logoff</strong> is enabled.</li></ul><p>To enable/disable <strong>TopSpin internal login/logoff</strong>, enter <strong>set</strong> and click <strong>Change</strong> to the right of the item <em>Setup users for internal.</em>...</p><h2 class="subheading">Write Protection</h2><p>An item (e.g. pulse program) in the database is write-protected (cannot be modified or deleted), if its owner is <em>Bruker</em> or if its owner is not the current TopSpin user.</p><h2 class="subheading">Owner</h2><p>Each item (e.g. pulse program) in the database has an assigned owner. Please note the following aspects:</p><ul class="list"><li value="1">For all items (e.g. pulse programs) delivered by Bruker, the owner is<em> Bruker</em>.</li><li value="2">The description of the <em>Edit, New and Import </em>functions above shows how an owner is assigned to an item.</li><li value="3">Bruker-owned items are write protected (cannot be changed/deleted). They may, however, be copied to a new name (see <em>Edit</em> above).</li><li value="4">Pulse programs names MUST be unique across all owners! The database cannot contain two pulse programs with same name, even if their assigned owners are different.</li></ul><h2 class="subheading">Using Pulse/CPD Programs from a User-defined Directory</h2><p>When you run an acquisition, using commands like <strong>zg</strong><em>, </em><strong>gs</strong><em>, ..</em>, the required pulse or CPD program is normally taken from the database. You might, however, want to use pulse programs from an arbitrary, user-defined directory, e.g. for development purposes. You can do this by setting the operating system environment variables <em>PULPPROG_DIR </em>and <em>CPDPROG_DIR</em>. They can be set in two different ways, with or without a minus sign, determining the item search order.</p><p>Examples:</p><ul class="list"><li value="1"><strong>PULPPROG_DIR=c:\mydir </strong></li><li value="2">Will cause <strong>zg</strong>, <strong>gs</strong>... to search for the pulse program in the database and then, if it did not find it there, in <em>c:\mydir</em>. So the database is searched first, then the defined directory.</li><li value="3"><strong>PULPPROG_DIR=-c:\mydir </strong></li><li value="4">Will cause <strong>zg</strong>, <strong>gs</strong>... to search for the pulse program in <em>c:\mydir</em>, and then, if it did not find it there, in the database. So the directory is searched first, then the database.</li></ul><p>Each time a pulse or CPD program is taken from a directory (rather than from the database), a message is written into the history file (to be viewed with command <strong>hist</strong>).</p><p>Please note:</p><ul class="list"><li value="1">The commands <strong>edpul</strong><em> </em>and <strong>edcpd</strong><em> </em>do not evaluate the above environment variables.</li><li value="2">When TopSpin is running as a client that controls a remote spectrometer, the remote environment variables are evaluated.</li></ul><h2 class="subheading">About Macros</h2><p>Macros are text files which contain a sequence of TopSpin commands and/or Jython commands. A simple macro for processing and plotting the current dataset is: </p><p class="codeblock"># 1D processing macro</p><p class="codeblock">em</p><p class="codeblock">ft</p><p class="codeblock">apk</p><p class="codeblock">sref</p><p class="codeblock">autoplot # plot according to Plot Editor layout</p><p>TopSpin commands can be inserted in lower or uppercase letters. Jython commands must be entered as follows:</p><p><strong>xpy &lt;name&gt; </strong></p><p>All text behind a # character is treated as comment. </p><h2 class="subheading">About Jython and Python3 programs</h2><p>Python programming is extensively described in a separate document available under:</p><p>Click<em> </em><strong>Help | Manuals | Programming Manuals | Python programming</strong></p><h2 class="subheading">INPUT AND OUTPUT FILES</h2><p>The default directories for pulse programs, CPD programs, Macros and Python programs are listed below, just like Bruker default directories:</p><p><em>&lt;tshome&gt;/exp/stan/nmr/lists/pp/*</em> - Bruker pulse programs</p><p><em>&lt;tshome&gt;/exp/stan/nmr/lists/pp/user/*</em> - User defined pulse programs</p><p><em>&lt;tshome&gt;/exp/stan/nmr/lists/cpd/*</em> - Bruker/CPD programs</p><p><em>&lt;tshome&gt;/exp/stan/nmr/lists/cpd/user/*</em> - User CPD programs</p><p><em>&lt;tshome&gt;/exp/stan/nmr/lists/mac/*</em> - Bruker TopSpin macros</p><p><em>&lt;tshome&gt;/exp/stan/nmr/lists/mac/user/*</em> - User TopSpin macros</p><p><em>&lt;tshome&gt;/exp/stan/nmr/py/*</em> - Bruker Jython programs</p><p><em>&lt;tshome&gt;/exp/stan/nmr/py/user/* </em>- User Jython programs</p><h2 class="subheading">SEE ALSO</h2><p><a style="color:#3195CA;" href="3277925643.html">edlist, dellist</a>, <a style="color:#3195CA;" href="3277978763.html">delpul, delcpdd</a>, <a style="color:#3195CA;" href="3278009867.html">xmac</a>, <a style="color:#3195CA;" href="3278017419.html">xpy</a>, xpy3</p><div class="image"></div><div class="image"></div></div><div class="container"><footer><p class="text-muted">@ Bruker Corporation 2023</p></footer></div></div><div class="schema-navbar" id="navbar" role="navigation"><button class="schema-navbar-toggle visible-sm visible-xs" id="sidebar-toggle"><span class="schema-glyph schema-glyph-menu"></span></button><a class="schema-navbar-brand" href="index.html"><img class="schema-navbar-logo" src="../assets/img/logo_white.svg" /></a><button class="btn btn-default dropdown-toggle schema-navbar-toggle mobile-hidden-xs mobile-hidden-sm" style="margin-top:20px;" id="language-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="schema-glyph schema-glyph-more_vert" style="top:0;"></span></button><ul class="dropdown-menu" id="language-dropdown"><li class="dropdown-header hidden-md hidden-lg"></li><li class="hidden-md hidden-lg"><a href="index.html">Home</a></li><li class="dropdown-header">Language</li><li class="langMenuItem checked" data-value="en-US"><a href="../en-US/3277966603.html">us-english</a></li></ul><div id="navbar-search"><form class="schema-navbar-search hidden-xs pull-right" role="search" action="search.html"><input type="text" name="q" autocomplete="search2662718347" placeholder="Search" results="10" /></form></div><ul class="navbar-structure-pages hidden-sm hidden-xs "><li class="schema-home-text"><a href="index.html">Home</a></li></ul><button class="navbar-toggle schema-navbar-toggle visible-xs" data-toggle="collapse" data-target="#search-collapse"><span class="schema-glyph schema-glyph-search"></span></button><form class="collapse hidden-sm hidden-md hidden-lg" id="search-collapse" role="search" action="search.html"><input type="text" name="q" autocomplete="search2662718347" placeholder="Search" results="10" /></form></div></div></div><script type="text/javascript" charset="utf-8" src="js/treedata.json"></script><script src="../assets/js/00-jquery.min.js"></script><script src="../assets/js/01-bootstrap.min.js"></script><script src="../assets/js/02-modernizr.custom.js"></script><script src="../assets/js/03-jquery-tree.js"></script><script src="../assets/js/04-jquery.mmenu.oncanvas.min.js"></script><script src="../assets/js/05-jquery.mcustomscrollbar.min.js"></script><script src="../assets/js/06-jquery-scrollbars.min.js"></script><script src="../assets/js/18-schema-common-core.min.js"></script><script src="../assets/js/19-schema-common-search.js"></script><script src="../assets/js/20-bootstrap-schema.js"></script></body></html>